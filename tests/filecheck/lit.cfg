import lit.formats
import os

config.name = "ScaIR"
config.test_source_root = os.path.dirname(__file__)
config.test_format = lit.formats.ShTest(preamble_commands=[f"cd {config.test_source_root}"])
config.suffixes = ['.mlir', '.scala', '.clair']


scair_opt = os.path.abspath(os.path.join(config.test_source_root, '../../target/universal/stage/bin/scair-opt'))
config.substitutions.append(('scair-opt', f"{scair_opt}"))

clair_run = os.path.abspath(os.path.join(config.test_source_root, '../../target/universal/stage/bin/clair-run'))
config.substitutions.append(('clair-run', f"{clair_run}"))

