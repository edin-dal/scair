import lit.formats
import os



config.name = "ScaIR"
config.test_source_root = os.path.dirname(__file__)
config.test_format = lit.formats.ShTest(execute_external=True)
config.suffixes = ['.mlir', '.scala']
config.excludes = [".scala-build"]

scair_opt = os.getenv("SCAIR_OPT", os.path.abspath(os.path.join(config.test_source_root, '../../out/opt/launcher.dest/run')))
config.substitutions.append(('scair-opt', f"{scair_opt}"))

scair_run = os.getenv("SCAIR_RUN", os.path.abspath(os.path.join(config.test_source_root, '../../out/runTool/launcher.dest/run')))
config.substitutions.append(('scair-run', f"{scair_run}"))